{% extends "HTMLs/base.html" %}

{% block title %}ORM Exercise - MovieReviews{% endblock %}

{% block content %}
    <h1>ORM Results</h1>

    <div class="mb-4">
        <h3>1. All Movies</h3>
        <ul>
            {% for movie in all_movies %}
                <li>{{ movie.name }} | {{ movie.actor }} | {{ movie.duration }} min | {{ movie.delivery_mode }} | {{ movie.keywords }} | {{ movie.description }} | {{ movie.release_date }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>2. SQL Query Generated by ORM</h3>
        <p>{{ query_sql }}</p>
    </div>

    <div class="mb-4">
        <h3>3. First 5 Movies</h3>
        <ul>
            {% for movie in first_5 %}
                <li>{{ movie.name }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>4. Movies from Row 5 to 9</h3>
        <ul>
            {% for movie in rows_5_to_9 %}
                <li>{{ movie.name }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>5. Total Count of Movies</h3>
        <p>Total movies in database: {{ total_count }}</p>
    </div>

    <div class="mb-4">
        <h3>6. Movies with "Movie" in Name</h3>
        <ul>
            {% for movie in movies_with_movie %}
                <li>{{ movie.name }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>7. Movies with Duration > 150 minutes</h3>
        <ul>
            {% for movie in duration_more_150 %}
                <li>{{ movie.name }} - {{ movie.duration }} min</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>8. Movies > 150 min AND THEATER Mode</h3>
        <ul>
            {% for movie in theater_long %}
                <li>{{ movie.name }} - {{ movie.duration }} min ({{ movie.delivery_mode }})</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>9. Movies < 150 min AND STREAMING Mode</h3>
        <ul>
            {% for movie in streaming_short %}
                <li>{{ movie.name }} - {{ movie.duration }} min ({{ movie.delivery_mode }})</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>10. Leonardo DiCaprio Movies - Min & Max Duration</h3>
        <p>Min: {{ leo_min_max.min_duration }} min | Max: {{ leo_min_max.max_duration }} min</p>
    </div>

    <div class="mb-4">
        <h3>11. Leonardo DiCaprio Movies - Average Duration</h3>
        <p>Average: {{ leo_avg.avg_duration|floatformat:1 }} min</p>
    </div>

    <div class="mb-4">
        <h3>12. Leonardo DiCaprio Movies - Count</h3>
        <p>Total movies: {{ leo_count }}</p>
    </div>

    <div class="mb-4">
        <h3>13. Movies NOT Starring Leonardo DiCaprio - Min & Max Duration</h3>
        <p>Min: {{ not_leo_min_max.min_duration }} min | Max: {{ not_leo_min_max.max_duration }} min</p>
    </div>

    <div class="mb-4">
        <h3>14. Movies NOT Starring Leonardo DiCaprio - Average Duration</h3>
        <p>Average: {{ not_leo_avg.avg_duration|floatformat:1 }} min</p>
    </div>

    <div class="mb-4">
        <h3>15. Movies NOT Starring Leonardo DiCaprio - Count</h3>
        <p>Total movies: {{ not_leo_count }}</p>
    </div>

    <div class="mb-4">
        <h3>16. Robert Downey Jr OR Matthew McConaughey - Min & Max Duration</h3>
        <p>Min: {{ rdj_mm_min_max.min_duration }} min | Max: {{ rdj_mm_min_max.max_duration }} min</p>
    </div>

    <div class="mb-4">
        <h3>17. Robert Downey Jr OR Matthew McConaughey - Average Duration</h3>
        <p>Average: {{ rdj_mm_avg.avg_duration|floatformat:1 }} min</p>
    </div>

    <div class="mb-4">
        <h3>18. Robert Downey Jr OR Matthew McConaughey - Count</h3>
        <p>Total movies: {{ rdj_mm_count }}</p>
    </div>

    <div class="mb-4">
        <h3>19. Count of Movies Per Actor</h3>
        <ul>
            {% for item in movies_per_actor %}
                <li>{{ item.actor }}: {{ item.movie_count }} movie(s)</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>20. Min & Max Duration Per Actor</h3>
        <ul>
            {% for item in actor_duration_min_max %}
                <li>{{ item.actor }}: Min {{ item.min_duration }} min | Max {{ item.max_duration }} min</li>
            {% endfor %}
        </ul>
    </div>

    <div class="mb-4">
        <h3>21. Max Duration Per Actor (Sorted)</h3>
        <ul>
            {% for item in actor_max_duration %}
                <li>{{ item.actor }}: {{ item.max_duration }} min</li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}
